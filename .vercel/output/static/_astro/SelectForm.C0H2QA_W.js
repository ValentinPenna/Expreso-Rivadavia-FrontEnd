import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as n}from"./index.CZlPm10g.js";import{B as d}from"./Button.T5o0TRFc.js";import{F as f,a as g}from"./formik.esm.C2D3lyQ3.js";import{I as o}from"./Input.BieRLi0Z.js";import{A as m,a as p}from"./index.D0FmFtl_.js";import{u}from"./userStore.C_79YqMW.js";import{B as w}from"./_astro-entry_react-toastify.CX4FvO7v.js";import{a as j}from"./auth.ChIf8Puy.js";import{L as b}from"./LoginGoogle.C0XpkFUc.js";import"./iconBase.Dh1Tc97b.js";function y(s){const r={};return s.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(s.email)?s.email.length>50&&(r.email="El correo no puede tener más de 50 caracteres"):r.email="El correo solo puede contener letras, números, puntos, guiones y guion bajo":r.email="Por favor ingrese un correo electrónico",s.dni||(r.dni="Por favor ingrese un número de DNI"),s.name?/^[a-zA-ZÀ-ÿ\s]{1,40}$/.test(s.name)||(r.name="El nombre solo puede contener letras y espacios"):r.name="Por favor ingrese un nombre",s.lastName?/^[a-zA-Z��-��\s]{1,40}$/.test(s.lastName)||(r.lastName="El apellido solo puede contener letras y espacios"):r.lastName="Por favor ingrese un apellido",s.address?s.address.length>50&&(r.address="El correo no puede tener más de 50 caracteres"):r.address="Por favor ingrese una dirección",s.locality?s.locality.length>50&&(r.locality="El correo no puede tener más de 50 caracteres"):r.locality="Por favor ingrese una localidad",s.password?s.password.length<8?r.password="La contraseña debe tener al menos 8 caracteres":s.password.length>15?r.password="La contraseña no puede tener más de 15 caracteres":/^(?=.[a-z])(?=.[A-Z])(?=.[0-9])(?=.[!@#$%^&])/.test(s.password)&&(r.password="La contraseña debe tener una letra mayuscula, una letra minuscula, un numero y un caracter especial"):r.password="Por favor ingrese una contraseña",s.confirmPassword||(r.confirmPassword="Por favor confirme su contraseña"),s.password!==s.confirmPassword&&(r.confirmPassword="Las contraseñas no coinciden"),r}const N=({handleBackToSelection:s})=>{const[r,i]=n.useState(!1),[l,x]=n.useState(!0),c=()=>{x(!l)},h=u(a=>a.userRegister);return e.jsx("div",{children:e.jsx(f,{initialValues:{email:"",dni:"",name:"",lastName:"",address:"",locality:"",password:"",confirmPassword:""},validate:y,onSubmit:a=>{h(a).then(t=>{t&&(i(!0),w.success("Usuario registrado con éxito"),setTimeout(()=>{window.location.href="/auth/login"},1e3))}).catch(t=>{console.log(t)})},children:({errors:a})=>e.jsxs(g,{className:" w-lg flex flex-col bg-white p-6  rounded-lg  shadow-lg my-10 relative",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-primary text-4xl font-bold ",children:"Registrarse"}),e.jsx("p",{children:"completa todos los campos para crear una cuenta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 items-center gap-x-20 ",children:[e.jsx(o,{label:"Email",name:"email",placeholder:"xxxx@mail.com",error:a.email}),e.jsx(o,{label:"DNI",name:"dni",placeholder:"44444444",error:a.dni}),e.jsx(o,{label:"Nombre",name:"name",placeholder:"Roberto",error:a.name}),e.jsx(o,{label:"Apellido",name:"lastName",placeholder:"Martinez",error:a.lastName}),e.jsx(o,{label:"Dirección",name:"address",placeholder:"calle 123",error:a.address}),e.jsx(o,{label:"Localidad",name:"locality",placeholder:"Springfield",error:a.locality}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{label:"Contraseña",name:"password",placeholder:"*******",type:l?"password":"text",error:a.password}),e.jsx("div",{onClick:c,className:"absolute right-0 top-2/3  transform  cursor-pointer",children:l?e.jsx(p,{color:"red"}):e.jsx(m,{color:"red"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{label:"Confirmar contraseña",name:"confirmPassword",placeholder:"*******",type:"password",error:a.confirmPassword}),e.jsx("div",{onClick:c,className:"absolute right-0 top-2/3  transform  cursor-pointer",children:l?e.jsx(p,{color:"red"}):e.jsx(m,{color:"red"})})]})]}),e.jsxs("div",{className:"mt-10 mb-5 flex flex-col justify-center items-center",children:[e.jsx(d,{type:"submit",children:"Registrarse"}),e.jsxs("span",{className:"m-5",children:["Ya tienes cuenta?",e.jsx("a",{href:"/auth/login",className:"text-primary",children:" Inicia sesión"})]})]}),s&&e.jsx("button",{type:"button",className:" text-primary absolute",onClick:s,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 42 42",children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M31 38.32L13.391 21L31 3.68L28.279 1L8 21.01L28.279 41z"})})})]})})})};function P(s){const r={};return s.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(s.email)?s.email.length>50&&(r.email="El correo no puede tener más de 50 caracteres"):r.email="El correo solo puede contener letras, números, puntos, guiones y guion bajo":r.email="Por favor ingrese un correo electrónico",s.cuit_cuil||(r.cuit_cuil="Por favor ingrese un número de DNI"),s.companyName||(r.companyName="Por favor ingrese un nombre de empresa"),s.name?/^[a-zA-ZÀ-ÿ\s]{1,40}$/.test(s.name)||(r.name="El nombre solo puede contener letras y espacios"):r.name="Por favor ingrese un nombre",s.lastName?/^[a-zA-Z��-��\s]{1,40}$/.test(s.lastName)||(r.lastName="El apellido solo puede contener letras y espacios"):r.lastName="Por favor ingrese un apellido",s.address?s.address.length>50&&(r.address="La direccion no puede tener más de 50 caracteres"):r.address="Por favor ingrese una dirección",s.locality?s.locality.length>50&&(r.locality="La localidad no puede tener más de 50 caracteres"):r.locality="Por favor ingrese una localidad",s.password?s.password.length<8?r.password="La contraseña debe tener al menos 8 caracteres":s.password.length>15?r.password="La contraseña no puede tener más de 15 caracteres":/^(?=.[a-z])(?=.[A-Z])(?=.[0-9])(?=.[!@#$%^&])/.test(s.password)&&(r.password="La contraseña debe tener una letra mayuscula, una letra minuscula, un numero y un caracter especial"):r.password="Por favor ingrese una contraseña",s.confirmPassword||(r.confirmPassword="Por favor confirme su contraseña"),s.password!==s.confirmPassword&&(r.confirmPassword="Las contraseñas no coinciden"),r}const v=({handleBackToSelection:s})=>{const[r,i]=n.useState(!1),[l,x]=n.useState(!1),c=()=>{x(!l)},h=u(a=>a.userRegister);return e.jsx("div",{children:e.jsx(f,{initialValues:{email:"",cuit_cuil:"",companyName:"",name:"",lastName:"",address:"",locality:"",password:"",confirmPassword:""},validate:P,onSubmit:a=>{h(a).then(t=>{t&&(i(!0),w.success("Empresa registrada con éxito"),setTimeout(()=>{window.location.href="/auth/login"},1e3))}).catch(t=>{console.log(t)})},children:({errors:a})=>e.jsxs(g,{className:" w-lg flex flex-col bg-white p-6  rounded-lg  shadow-lg my-10 relative",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-primary text-4xl font-bold ",children:"Registrarse"}),e.jsx("p",{children:"completa todos los campos para crear una cuenta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 items-center gap-x-20",children:[e.jsx(o,{label:"Email",name:"email",placeholder:"xxxx@mail.com",error:a.email}),e.jsx(o,{label:"CUIT",name:"cuit_cuil",placeholder:"44444444",error:a.cuit_cuil}),e.jsx(o,{label:"Nombre de la empresa",name:"companyName",placeholder:"Expreso Rivadavia",error:a.companyName}),e.jsx(o,{label:"Nombre",name:"name",placeholder:"Roberto",error:a.name}),e.jsx(o,{label:"Apellido",name:"lastName",placeholder:"Martinez",error:a.lastName}),e.jsx(o,{label:"Dirección",name:"address",placeholder:"calle 123",error:a.address}),e.jsx(o,{label:"Localidad",name:"locality",placeholder:"Springfield",error:a.locality}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{label:"Contraseña",name:"password",placeholder:"*******",type:l?"password":"text",error:a.password}),e.jsx("div",{onClick:c,className:"absolute right-0 top-2/3  transform  cursor-pointer",children:l?e.jsx(m,{color:"red"}):e.jsx(p,{color:"red"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{label:"Confirmar contraseña",name:"confirmPassword",placeholder:"*******",type:"password",error:a.confirmPassword}),e.jsx("div",{onClick:c,className:"absolute right-0 top-2/3  transform  cursor-pointer",children:l?e.jsx(m,{color:"red"}):e.jsx(p,{color:"red"})})]})]}),e.jsxs("div",{className:"mt-10 mb-5 flex flex-col justify-center items-center",children:[e.jsx(d,{type:"submit",children:"Registrarse"}),e.jsxs("span",{className:"m-5",children:["Ya tienes cuenta?",e.jsx("a",{href:"/auth/login",className:"text-primary",children:" Inicia sesión"})]})]}),s&&e.jsx("button",{type:"button",className:" text-primary absolute",onClick:s,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 42 42",children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M31 38.32L13.391 21L31 3.68L28.279 1L8 21.01L28.279 41z"})})})]})})})},I=()=>{const[s,r]=n.useState(null);n.useEffect(()=>{j()&&(window.location.href="/")},[]);const i=()=>{r(null)};return e.jsxs("div",{children:[!s&&e.jsxs("div",{className:"m-16 grid grid-cols-1 lg:grid-cols-2 gap-10 ",children:[e.jsxs("div",{className:"bg-white p-12 rounded-lg  text-center shadow-lg flex flex-col items-center",children:[e.jsx("h1",{className:"text-primary text-4xl font-bold ",children:"PERSONA"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#CB1B1A",d:`M12 12q-1.65 0-2.825-1.175T8 8t1.175-2.825T12 \r
            4t2.825 1.175T16 8t-1.175 2.825T12 12m-8 6v-.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13t3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2v.8q0 .825-.587 \r
            1.413T18 20H6q-.825 0-1.412-.587T4 18m2 0h12v-.8q0-.275-.137-.5t-.363-.35q-1.35-.675-2.725-1.012T12 15t-2.775.338T6.5 16.35q-.225.125-.363.35T6 17.2zm6-8q.825 0 1.413-.587T14 \r
            8t-.587-1.412T12 6t-1.412.588T10 8t.588 1.413T12 10m0 8`})}),e.jsx(d,{onClick:()=>r("user"),className:"m-8 mt-16",children:"Registrarse como persona"})]}),e.jsxs("div",{className:"bg-white p-12 rounded-lg text-center shadow-lg flex flex-col items-center",children:[e.jsx("h1",{className:"text-primary text-4xl font-bold ",children:"EMPRESA"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#CB1B1A",d:`M4 21q-.825 0-1.412-.587T2 19V8q0-.825.588-1.412T4 \r
            6h4V4q0-.825.588-1.412T10 2h4q.825 0 1.413.588T16 4v2h4q.825 0 1.413.588T22 8v11q0 .825-.587 1.413T20 21zm6-15h4V4h-4zm2 9.5q.825 0 1.413-.587T14 13.5t-.587-1.412T12 \r
            11.5t-1.412.588T10 13.5t.588 1.413T12 15.5`})}),e.jsxs(d,{onClick:()=>r("company"),className:"m-8 mt-16",children:["Registrarse como empresa"," "]})]}),e.jsxs("div",{className:"lg:text-3xl m-10 text-center bg-white p-10 rounded-lg shadow-lg col-span-1 lg:col-span-2",children:[e.jsxs("span",{className:"m-5",children:["Ya tienes cuenta?",e.jsxs("a",{href:"/auth/login",className:"text-primary font-bold",children:[" ","Inicia sesión"]})]}),e.jsx("div",{className:"mt-4 flex justify-center items-center",children:e.jsx(b,{})})]})]}),s==="user"&&e.jsx(N,{handleBackToSelection:i}),s==="company"&&e.jsx(v,{handleBackToSelection:i})]})};export{I as default};
