import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as a}from"./index.CZlPm10g.js";import{C as u}from"./index.CPVBLUwE.js";import{u as l}from"./userStore.C_79YqMW.js";import{B as c}from"./Button.T5o0TRFc.js";import{B as h}from"./_astro-entry_react-toastify.CX4FvO7v.js";import"./iconBase.Dh1Tc97b.js";function m(){const r=l(s=>s.token),t=l(s=>s.user),o=l(s=>s.removeSession),{setUser:x,setToken:d}=l(s=>s),[n,i]=a.useState(!1);a.useEffect(()=>{x(),d()},[]);const f=()=>{o(),h.info("Has cerrado sesión"),setTimeout(()=>{window.location.href="/"},2e3)};return e.jsx(e.Fragment,{children:!r||r==="undefined"?e.jsx("div",{className:"flex flex-row gap-6",children:e.jsx(c,{className:"w-fit mx-10 px-4",onClick:()=>location.href="/auth/register",children:"INGRESAR"})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onBlur:()=>i(!1),className:"absolute right-14 top-6 lg:flex z-50 flex-col gap-[3px] ",onClick:()=>i(!n),children:e.jsx("img",{src:t.profilePicture,alt:"profile",className:"rounded-full w-14 h-14"})}),e.jsx("ul",{onMouseDown:s=>s.preventDefault(),className:`${n?"block gap-4 p-4 ":"hidden"} 
          bg-white flex flex-col shadow-lg text-black text-lg font-normal duration-400 right-4 top-20 rounded-lg absolute z-50  justify-center`,children:e.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[e.jsx("li",{children:e.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Perfil"})}),e.jsx("li",{children:e.jsx(c,{className:"text-xs w-fit",onClick:f,children:"Cerrar sesión"})})]})})]})})}const k=()=>{const[r,t]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onBlur:()=>t(!1),className:" right-4 top-8 absolute z-50 flex flex-col gap-[3px] rounded-lg bg-secundary px-2 py-2 text-soft-letter lg:hidden",onClick:()=>t(!r),children:e.jsx(u,{className:"text-xl",color:"#CB1B1A"})}),e.jsx("ul",{onMouseDown:o=>o.preventDefault(),className:`${r?"block gap-4 p-4 ":"hidden"} 
        bg-white flex rounded-sm flex-col-reverse shadow-lg text-black text-lg font-normal duration-400 right-0 -bottom-44 absolute z-50 lg:static lg:shadow-none lg:flex lg:w-full lg:flex-row lg:items-center  lg:gap-3 lg:bg-transparent justify-between`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:text-primary",children:"Cotizar un envío"})}),e.jsx("li",{children:e.jsx("a",{href:"/new-shipment",className:"hover:text-primary",children:"Hacer un envío"})}),e.jsx("li",{children:e.jsx("a",{href:"/faqs",className:"hover:text-primary",children:"Preguntas Frecuentes"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"hover:text-primary",children:"Sobre Nosotros"})})]})}),e.jsx(m,{})]})};export{k as default};
