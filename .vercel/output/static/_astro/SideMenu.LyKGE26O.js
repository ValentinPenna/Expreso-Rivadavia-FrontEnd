import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{r as a}from"./index.CZlPm10g.js";import{C as g}from"./index.CPVBLUwE.js";import{G as r}from"./iconBase.Dh1Tc97b.js";import{u as h}from"./userStore.C_79YqMW.js";import{B as m}from"./_astro-entry_react-toastify.CX4FvO7v.js";function x(s){return r({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M112 0C85.5 0 64 21.5 64 48V96H16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 272c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 48c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 240c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 208c8.8 0 16 7.2 16 16s-7.2 16-16 16H64V416c0 53 43 96 96 96s96-43 96-96H384c0 53 43 96 96 96s96-43 96-96h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V288 256 237.3c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7H416V48c0-26.5-21.5-48-48-48H112zM544 237.3V256H416V160h50.7L544 237.3zM160 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm272 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0z"},child:[]}]})(s)}function f(s){return r({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"},child:[]}]})(s)}function u(s){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M7,11 L7,6 C7,3 9,1 12,1 C15,1 17,3 17,6 L17,11 M12,23 C15.8659932,23 19,19.8659932 19,16 C19,12.1340068 15.8659932,9 12,9 C8.13400675,9 5,12.1340068 5,16 C5,19.8659932 8.13400675,23 12,23 Z M12,15 L12,19 M12,16 C12.5522847,16 13,15.5522847 13,15 C13,14.4477153 12.5522847,14 12,14 C11.4477153,14 11,14.4477153 11,15 C11,15.5522847 11.4477153,16 12,16 Z"},child:[]}]})(s)}function p(s){return r({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 16"},child:[{tag:"path",attr:{d:"M10 1c3.866 0 7 3.134 7 7s-3.134 7-7 7v-1.5c1.469 0 2.85-0.572 3.889-1.611s1.611-2.42 1.611-3.889c0-1.469-0.572-2.85-1.611-3.889s-2.42-1.611-3.889-1.611c-1.469 0-2.85 0.572-3.889 1.611-0.799 0.799-1.322 1.801-1.52 2.889h2.909l-3.5 4-3.5-4h2.571c0.485-3.392 3.402-6 6.929-6zM13 7v2h-4v-5h2v3z"},child:[]}]})(s)}const v=()=>{const s=h(t=>t.user),[l,i]=a.useState(s?.profilePicture||""),[b,o]=a.useState(!1),d=a.useRef(null);a.useEffect(()=>{s?.profilePicture&&i(JSON.parse(localStorage.getItem("user")).profilePicture)},[s.profilePicture]);const j=async t=>{const n=t.target.files?.[0];if(n){o(!0);try{const c=await h.getState().uploadImage(n,s.id);i(c),m.success("Foto de perfil actualizada con éxito")}catch(c){console.error(c),m.error("Hubo un error al actualizar la foto de perfil")}finally{o(!1)}}},N=()=>{d.current?.click()};return e.jsxs("div",{className:"max-w-md mx-auto px-8 pt-8 pb-4 mb-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:l,alt:"Profile",className:"rounded-full h-32 w-32 object-cover"})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("button",{onClick:N,className:"border border-primary rounded w-full py-2 px-3 text-gray-700",children:"Cambiar foto de perfil"}),e.jsx("input",{type:"file",ref:d,onChange:j,accept:"image/*",className:"hidden"}),b&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Cargando..."})]})]})};function M(){const[s,l]=a.useState(!0);return e.jsx("aside",{className:"relative w-[20%] pr-4 pb-8",children:e.jsxs("nav",{className:`${s?" w-40 lg:w-full pr-4 ":"w-12 pr:4"} duration-300 relative transition-all overflow-hidden flex flex-col gap-10 items-center bg-white my-4 rounded-r-lg py-4 min-h-[79dvh] h-full`,children:[e.jsx("button",{className:"absolute right-4 lg:hidden ",onClick:()=>l(!s),children:e.jsx(g,{className:"text-xl",color:"#CB1B1A"})}),e.jsx(v,{}),e.jsxs("div",{className:"flex flex-col gap-6 text-xl items-start w-full",children:[e.jsx("div",{className:"flex flex-row h-full",children:window.location.pathname==="/dashboard"?e.jsxs("div",{className:"flex items-center border-l-4 h-8 border-primary",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard",children:e.jsx(f,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard",className:`${s?"block":"hidden"} font-bold text-lg pl-3`,children:"Información del Usuario"})]}):e.jsxs("div",{className:"flex  items-center",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard",children:e.jsx(f,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard",className:`${s?"block":"hidden"} font-normal text-lg pl-1`,children:"Información del Usuario"})]})}),e.jsx("div",{className:"flex flex-row h-fit",children:window.location.pathname==="/dashboard/shipments"?e.jsxs("div",{className:"flex items-center border-l-4 h-8 border-primary",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/shipments",children:e.jsx(p,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/shipments",className:`${s?"block":"hidden"} font-bold text-lg pl-3`,children:"Historial de envios"})]}):e.jsxs("div",{className:"flex  items-center",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/shipments",children:e.jsx(p,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/shipments",className:`${s?"block":"hidden"} font-normal text-lg pl-1`,children:"Historial de envios"})]})}),e.jsx("div",{className:"flex flex-row h-fit",children:window.location.pathname==="/dashboard/trackeo"?e.jsxs("div",{className:"flex items-center border-l-4 h-8 border-primary",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/trackeo",children:e.jsx(x,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/trackeo",className:`${s?"block":"hidden"} font-bold text-lg pl-3`,children:"Ver envios"})]}):e.jsxs("div",{className:"flex  items-center",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/trackeo",children:e.jsx(x,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/trackeo",className:`${s?"block":"hidden"} font-normal text-lg pl-1`,children:"Ver envios"})]})}),e.jsx("div",{className:"flex flex-row h-fit",children:window.location.pathname==="/dashboard/security"?e.jsxs("div",{className:"flex items-center border-l-4 h-8 border-primary",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/security",children:e.jsx(u,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/security",className:`${s?"block":"hidden"} font-bold text-lg pl-3`,children:"Seguridad"})]}):e.jsxs("div",{className:"flex  items-center",children:[e.jsx("a",{className:"ml-2 ",href:"/dashboard/security",children:e.jsx(u,{className:"text-2xl",color:"#CB1B1A"})}),e.jsx("a",{href:"/dashboard/security",className:`${s?"block":"hidden"} font-normal text-lg pl-1`,children:"Seguridad"})]})})]})]})})}export{M as default};
