import{j as e}from"./jsx-runtime.D5qyYPMi.js";import{F as v,a as b,b as l}from"./formik.esm.C2D3lyQ3.js";import{r as o}from"./index.CZlPm10g.js";import{B as m}from"./Button.T5o0TRFc.js";import{I as h}from"./Input.BieRLi0Z.js";import{u as x}from"./ordersStore.DGUKYUHB.js";import{u as N}from"./userStore.C_79YqMW.js";import{G as p}from"./iconBase.Dh1Tc97b.js";import"./_astro-entry_react-toastify.CX4FvO7v.js";const y=t=>{const r={};return t.address_origin||(r.address_origin="Por favor ingrese una dirección"),t.address_destination||(r.address_destination="Por favor ingrese una dirección"),r};function z(t){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}const _=({open:t,onClose:r,children:c})=>e.jsx("div",{onClick:r,className:`fixed inset-0 flex justify-center items-center transition-colors ${t?"visible bg-black/20":"invisible"} `,children:e.jsxs("div",{onClick:n=>n.stopPropagation(),className:`bg-white rounded-xl p-6 transition-all ${t?"scale-100 opacity-100":"scale-125 opacity-0"}`,children:[e.jsx("div",{onClick:r,className:"absolute z-30 top-2  right-2 text-gray rounded-lg hover:cursor-pointer bg-transparent hover:text-zinc-800",children:e.jsx(z,{})}),c]})});function w(t){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"},child:[]},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"},child:[]}]})(t)}const D=()=>{const[t,r]=o.useState([]);x(s=>s.createOrder);const c=x(s=>s.getLocalities),n=N(s=>s.token),[j,d]=o.useState(!1),[a,f]=o.useState(null),g=x(s=>s.quotation);return o.useEffect(()=>{async function s(){const i=await c();console.log(i),r(i)}s()},[]),e.jsx("div",{className:"px-4 md:px-8 z-50",children:e.jsx(v,{initialValues:{locality_origin:"0",locality_destination:"0",size:"",address_origin:"",address_destination:""},validate:y,onSubmit:(s,{resetForm:i})=>{g({size:s.size,locality_origin:Number(s.locality_origin),locality_destination:Number(s.locality_destination)}).then(u=>{s.size==="envelop"&&(s.size="Sobre"),s.size==="small"&&(s.size="Pequeño"),s.size==="medium"&&(s.size="Mediano"),s.size==="large"&&(s.size="Grande"),f({size:s.size,locality_origin:Number(s.locality_origin),locality_destination:Number(s.locality_destination),address_origin:s.address_origin,address_destination:s.address_destination,price:u})}),d(!0)},children:({errors:s})=>e.jsxs(b,{className:"max-w-4xl mx-auto bg-white p-4 my-4 rounded-lg shadow-lg",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-primary font-bold lg:text-5xl md:text-4xl text-2xl text-center",children:"Realizar envío"})}),e.jsxs("div",{className:"text-xl lg:text-2xl m-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"locality_origin",className:"flex items-center space-x-2 text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"30",viewBox:"0 0 304 432",className:"mr-2",children:e.jsx("path",{fill:"#CB1B1A",d:"M149 3q62 0 106 43.5T299 152q0 31-15.5 71.5t-37.5 75t-44 65t-37 48.5l-16 17q-6-6-16-18t-35.5-46.5t-45.5-67T16 224T0 152Q0 90 43.5 46.5T149 3m0 202q22 0 38-15.5t16-37.5t-16-37.5T149 99t-37.5 15.5T96 152t15.5 37.5T149 205"})}),"Ciudad de origen:"]}),e.jsxs(l,{as:"select",id:"locality_origin",name:"locality_origin",className:"p-1 focus:border focus:rounded-lg focus:outline-none focus:border-primary hover:border-primary w-56",children:[e.jsx("option",{value:0,children:"Seleccionar"}),t?.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx(h,{label:"Dirección de origen",name:"address_origin",placeholder:"calle 123",error:s.address_origin})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"locality_destination",className:"flex items-center space-x-2 text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"35",viewBox:"0 0 24 24",className:"mr-2",children:e.jsx("path",{fill:"#CB1B1A",d:"M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75"})}),"Ciudad de destino:"]}),e.jsxs(l,{as:"select",id:"locality_destination",name:"locality_destination",className:"p-1 focus:border focus:rounded-lg focus:outline-none focus:border-primary hover:border-primary w-56",children:[e.jsx("option",{value:0,children:"Seleccionar"}),t?.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx(h,{label:"Dirección de destino",name:"address_destination",placeholder:"calle 123",error:s.address_destination})]})]}),e.jsxs("div",{className:"flex flex-col items-center mt-5",children:[e.jsxs("label",{htmlFor:"size",className:"flex items-center space-x-2 text-primary",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"50",viewBox:"0 0 24 24",className:"mr-2",children:e.jsx("path",{fill:"none",stroke:"#CB1B1A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m12 3l8 4.5v9L12 21l-8-4.5v-9zm0 9l8-4.5M12 12v9m0-9L4 7.5m12-2.25l-8 4.5"})}),"Selecciona un tamaño:"]}),e.jsxs("label",{htmlFor:"size-sobre",className:"flex items-center space-x-2 mb-2 md:mb-0 ml-5",children:[e.jsx(l,{type:"radio",id:"size-sobre",name:"size",value:"envelop"}),e.jsxs("div",{className:"flex  flex-col items-center space-x-2",children:[e.jsx("span",{className:"ml-2 mr-6 ",children:"Sobre"}),e.jsxs("span",{className:"text-sm md:ml-0 text-primary",children:["Máximo formato A4"," "]})]})]}),e.jsxs("div",{role:"group","aria-labelledby":"size",className:"flex flex-col lg:flex-row",children:[e.jsxs("label",{htmlFor:"size-pequeño",className:"flex items-center space-x-2 mb-2 md:mb-0 ml-5",children:[e.jsx(l,{type:"radio",id:"size-pequeño",name:"size",value:"small"}),e.jsxs("div",{className:"flex  flex-col items-center space-x-2",children:[e.jsx("span",{className:"ml-2 mr-6 ",children:"Pequeño"}),e.jsx("span",{className:"text-sm md:ml-0 text-primary",children:"Máximo de 150cm / 10000 grs"})]})]}),e.jsxs("label",{htmlFor:"size-mediano",className:"flex items-center space-x-2 mb-2 md:mb-0 ml-5",children:[e.jsx(l,{type:"radio",id:"size-mediano",name:"size",value:"medium"}),e.jsxs("div",{className:"flex  flex-col items-center space-x-2",children:[e.jsx("span",{className:"ml-2 mr-6 ",children:"Mediano"}),e.jsx("span",{className:"text-sm md:ml-0 text-primary",children:"Máximo de 300cm / 25000 grs"})]})]}),e.jsxs("label",{htmlFor:"size-grande",className:"flex items-center space-x-2 mb-2 md:mb-0 ml-5",children:[e.jsx(l,{type:"radio",id:"size-grande",name:"size",value:"large"}),e.jsxs("div",{className:"flex  flex-col items-center space-x-2",children:[e.jsx("span",{className:"ml-2 mr-6 ",children:"Grande"}),e.jsx("span",{className:"text-sm md:ml-0 text-primary",children:"Máximo de 495cm / 50000 grs"})]})]})]})]}),n?e.jsx("div",{className:"mt-10 mb-5 flex justify-center flex-col items-center",children:e.jsx(m,{type:"submit",children:"CREAR ENVIO"})}):e.jsxs("div",{className:"mt-10 mb-5 flex justify-center flex-col items-center",children:[e.jsx(m,{disabled:!n,children:"CREAR ENVIO"}),e.jsx("span",{className:"text-sm text-center mt-2",children:"Debes iniciar sesión para poder realizar un envío"})]})]}),e.jsx(_,{open:j,onClose:()=>d(!1),children:e.jsx("div",{className:"w-96 p-4",children:a&&e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold mb-4 text-primary",children:"Detalles del envío"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ciudad de origen:"})," ",t.find(i=>Number(i.id)===a.locality_origin)?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ciudad de destino:"})," ",t.find(i=>Number(i.id)===a.locality_destination)?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tamaño:"})," ",a.size]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dirección de origen:"})," ",a.address_origin]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dirección de destino:"})," ",a.address_destination]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Precio:"})," ",`${a.price} pesos argentinos`]}),e.jsxs("div",{className:" flex justify-center items-center gap-8 mt-8",children:[e.jsxs("div",{onClick:()=>d(!1),className:"text-xs p-1 flex justify-start gap-1 hover:cursor-pointer text-primary bg-transparent items-center w-fit",children:["Cancelar Envio",e.jsx(w,{})]}),e.jsx(m,{className:"text-xs p-1 flex justify-center items-center w-fit",children:"Pasarela de pago"})]})]})})})]})})})};export{D as default};
